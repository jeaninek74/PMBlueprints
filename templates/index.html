{% extends "base.html" %}

{% block extra_head %}
<link href="{{ url_for('static', filename='css/demo_banner.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">Smart templates. Strong foundations.</h1>
                <p class="lead mb-4">
                    AI-powered Document Templates reduce the time spent creating project documentation by up to 70%, 
                    allowing project managers to focus on what matters most: successful project execution and delivery.
                </p>
                
                <div class="row g-3 mb-4">
                    <div class="col-md-6">
                        <select class="form-select" id="industrySelect">
                            <option value="">Select Industry</option>
                            {% if industries %}
                                {% for industry in industries %}
                                <option value="{{ industry }}">{{ industry }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="Technology">Technology</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Construction">Construction</option>
                                <option value="Finance">Finance</option>
                                <option value="Manufacturing">Manufacturing</option>
                                <option value="Education">Education</option>
                            {% endif %}
                        </select>
                    </div>
                    <div class="col-md-6">
                        <select class="form-select" id="templateTypeSelect">
                            <option value="">Select Template Type</option>
                            {% if categories %}
                                {% for category in categories %}
                                <option value="{{ category }}">{{ category }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="Project Planning">Project Planning</option>
                                <option value="Risk Management">Risk Management</option>
                                <option value="Quality Assurance">Quality Assurance</option>
                                <option value="Resource Management">Resource Management</option>
                                <option value="Communication">Communication</option>
                            {% endif %}
                        </select>
                    </div>
                </div>
                
                <div class="d-flex gap-3 flex-wrap">
                    <a href="{{ url_for('templates.browse') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-download me-2"></i>Browse All Templates
                    </a>
                    <button class="btn btn-outline-light btn-lg" id="aiGeneratorBtn">
                        <i class="fas fa-magic me-2"></i>AI Generator
                    </button>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-stats">
                    <div class="row g-4">
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">{{ stats.total_templates if stats else '960+' }}</h3>
                                <p class="mb-0 small">Templates ({{ stats.total_files if stats else '1,594' }} files)</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">{{ stats.industries_count if stats else '30' }}</h3>
                                <p class="mb-0">Complete Sectors</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">{{ stats.categories_count if stats else '45' }}</h3>
                                <p class="mb-0">Template Types</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">{{ stats.time_savings if stats else '70%' }}</h3>
                                <p class="mb-0">Average Time Savings</p>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="stat-card bg-white bg-opacity-10 p-3 rounded text-center">
                                <p class="mb-0"><i class="fas fa-check-circle me-2"></i><strong>{{ stats.compliance if stats else '100% PMI 2025' }} Standards</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Why Choose PMBlueprints?</h2>
            <p class="lead text-muted">
                Professional project management templates designed by experts, powered by AI, 
                and trusted by thousands of project managers worldwide.
            </p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <h4>AI-Powered Generation</h4>
                    <p class="text-muted">
                        Generate custom templates using GPT-4 technology. Simply describe your project needs 
                        and get PMI-compliant templates instantly.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <h4>Excel Formula Preservation</h4>
                    <p class="text-muted">
                        All templates include built-in Excel formulas that are preserved during export to 
                        Monday.com, Smartsheet, Google Sheets, and other platforms.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <h4>PMI 2025 Compliant</h4>
                    <p class="text-muted">
                        Every template follows the latest PMI standards and PMBOK Guide 7th Edition 
                        best practices for professional project management.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Interactive Demo Banner -->
{% include 'components/demo_banner.html' %}

<!-- Integrations Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Seamless Platform Integrations</h2>
            <p class="lead text-muted">
                Export templates directly to your favorite project management platforms with 
                preserved formulas and formatting.
            </p>
        </div>
        
        <!-- Integration Cards with Details -->
        <div class="row g-4 mb-5">
            <div class="col-lg-2 col-md-6">
                <div class="card h-100 border-0 shadow-sm integration-card">
                    <div class="card-body text-center p-4">
                        <i class="fab fa-microsoft fa-3x text-primary mb-3"></i>
                        <h5 class="card-title">Microsoft Suite</h5>
                        <p class="card-text text-muted small">
                            Direct .mpp export with preserved Gantt charts, resource assignments, and critical path calculations.
                        </p>
                        <div class="integration-features">
                            <small class="text-success d-block"><i class="fas fa-check"></i> Gantt Chart Export</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Resource Leveling</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Critical Path</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-6">
                <div class="card h-100 border-0 shadow-sm integration-card">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-calendar-alt fa-3x text-success mb-3"></i>
                        <h5 class="card-title">Monday.com</h5>
                        <p class="card-text text-muted small">
                            One-click board creation with automated workflows, status tracking, and team collaboration features.
                        </p>
                        <div class="integration-features">
                            <small class="text-success d-block"><i class="fas fa-check"></i> Auto Board Setup</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Workflow Automation</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Team Notifications</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-6">
                <div class="card h-100 border-0 shadow-sm integration-card">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-table fa-3x text-info mb-3"></i>
                        <h5 class="card-title">Smartsheet</h5>
                        <p class="card-text text-muted small">
                            Smart sheet creation with conditional formatting, automated alerts, and dashboard integration.
                        </p>
                        <div class="integration-features">
                            <small class="text-success d-block"><i class="fas fa-check"></i> Conditional Formatting</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Automated Alerts</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Dashboard Sync</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-6">
                <div class="card h-100 border-0 shadow-sm integration-card">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-briefcase fa-3x text-warning mb-3"></i>
                        <h5 class="card-title">Workday</h5>
                        <p class="card-text text-muted small">
                            Enterprise project integration with HR systems, financial tracking, and compliance reporting.
                        </p>
                        <div class="integration-features">
                            <small class="text-success d-block"><i class="fas fa-check"></i> HR Integration</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Financial Tracking</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Compliance Reports</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-2 col-md-6">
                <div class="card h-100 border-0 shadow-sm integration-card">
                    <div class="card-body text-center p-4">
                        <i class="fab fa-google fa-3x text-danger mb-3"></i>
                        <h5 class="card-title">Google Sheets</h5>
                        <p class="card-text text-muted small">
                            Cloud-based spreadsheet integration with real-time collaboration, formula preservation, and auto-sync.
                        </p>
                        <div class="integration-features">
                            <small class="text-success d-block"><i class="fas fa-check"></i> Real-time Collaboration</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Formula Preservation</small>
                            <small class="text-success d-block"><i class="fas fa-check"></i> Cloud Storage</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Integration Instructions -->
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-cogs me-2"></i>How Integration Works</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-3 text-center">
                                <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">1</div>
                                <h6>Download Template</h6>
                                <p class="small text-muted">Choose and download your PMI-compliant template with preserved formulas</p>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="step-number bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">2</div>
                                <h6>Select Platform</h6>
                                <p class="small text-muted">Choose your target platform from our supported integrations</p>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="step-number bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">3</div>
                                <h6>Auto-Configure</h6>
                                <p class="small text-muted">Our system automatically configures the template for your platform</p>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="step-number bg-warning text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">4</div>
                                <h6>Start Managing</h6>
                                <p class="small text-muted">Begin project management with fully functional templates</p>
                            </div>
                        </div>
                        
                        <div class="mt-4 p-3 bg-light rounded">
                            <h6 class="text-primary"><i class="fas fa-lightbulb me-2"></i>Pro Tip</h6>
                            <p class="small mb-0">All Excel formulas, conditional formatting, and data validation rules are automatically preserved during platform export, ensuring your templates work exactly as designed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Business Value Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Business Value</h2>
            <p class="lead text-muted">Measurable impact for your project management success</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 shadow-sm hover-lift">
                    <div class="card-body text-center p-4">
                        <div class="icon-circle bg-primary bg-opacity-10 mx-auto mb-3" style="width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-chart-line text-primary fa-2x"></i>
                        </div>
                        <h4 class="fw-bold mb-2">40+ Hours</h4>
                        <h6 class="text-muted mb-3">ROI Per Project</h6>
                        <p class="small text-muted mb-0">Average time saved per project using our templates and automation tools</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 shadow-sm hover-lift">
                    <div class="card-body text-center p-4">
                        <div class="icon-circle bg-success bg-opacity-10 mx-auto mb-3" style="width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-award text-success fa-2x"></i>
                        </div>
                        <h4 class="fw-bold mb-2">Enterprise-Grade</h4>
                        <h6 class="text-muted mb-3">Quality Templates</h6>
                        <p class="small text-muted mb-0">Professional templates designed by certified PMP experts and industry leaders</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 shadow-sm hover-lift">
                    <div class="card-body text-center p-4">
                        <div class="icon-circle bg-info bg-opacity-10 mx-auto mb-3" style="width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-plug text-info fa-2x"></i>
                        </div>
                        <h4 class="fw-bold mb-2">4 Platforms</h4>
                        <h6 class="text-muted mb-3">Integration Connections</h6>
                        <p class="small text-muted mb-0">Seamless export to Microsoft Suite, Monday.com, Smartsheet, and Workday</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 shadow-sm hover-lift">
                    <div class="card-body text-center p-4">
                        <div class="icon-circle bg-warning bg-opacity-10 mx-auto mb-3" style="width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-book text-warning fa-2x"></i>
                        </div>
                        <h4 class="fw-bold mb-2">Comprehensive</h4>
                        <h6 class="text-muted mb-3">Support & Documentation</h6>
                        <p class="small text-muted mb-0">Complete guides, video tutorials, and dedicated support team available 24/7</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Templates Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Popular Templates</h2>
            <p class="lead text-muted">Explore our most downloaded templates across various industries</p>
        </div>
        
        <div class="row g-4" id="popularTemplates">
            <!-- Templates will be loaded dynamically -->
        </div>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('templates.browse') }}" class="btn btn-primary btn-lg">
                View All Templates <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Pricing Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Simple, Transparent Pricing</h2>
            <p class="lead text-muted">Choose the plan that fits your project management needs</p>
        </div>
        
        <div class="row justify-content-center g-4">
            <div class="col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-4 text-center">
                        <h4 class="card-title">Free</h4>
                        <div class="price mb-3">
                            <span class="display-4 fw-bold">$0</span>
                            <span class="text-muted">/month</span>
                        </div>
                        <ul class="list-unstyled mb-4">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>10 template downloads</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Basic templates</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Email support</li>
                        </ul>
                        <a href="{{ url_for('auth.register') }}" class="btn btn-outline-primary w-100">Get Started</a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card h-100 border-primary shadow">
                    <div class="card-header bg-primary text-white text-center">
                        <span class="badge bg-warning text-dark">Most Popular</span>
                    </div>
                    <div class="card-body p-4 text-center">
                        <h4 class="card-title">Professional</h4>
                        <div class="price mb-3">
                            <span class="display-4 fw-bold">$29</span>
                            <span class="text-muted">/month</span>
                        </div>
                        <ul class="list-unstyled mb-4">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Unlimited downloads</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>All 960+ templates</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>AI template generation</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Platform integrations</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Priority support</li>
                        </ul>
                        <a href="{{ url_for('payment.checkout', plan='professional') }}" class="btn btn-primary w-100">Start Free Trial</a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-4 text-center">
                        <h4 class="card-title">Enterprise</h4>
                        <div class="price mb-3">
                            <span class="display-4 fw-bold">$99</span>
                            <span class="text-muted">/month</span>
                        </div>
                        <ul class="list-unstyled mb-4">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Everything in Professional</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Custom templates</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Advanced analytics</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Dedicated support</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>White-label options</li>
                        </ul>
                        <a href="{{ url_for('payment.checkout', plan='enterprise') }}" class="btn btn-outline-primary w-100">Contact Sales</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container text-center">
        <h2 class="display-5 fw-bold mb-4">Ready to Transform Your Project Management?</h2>
        <p class="lead mb-4">Join thousands of project managers who save hours every week with PMBlueprints.</p>
        <div class="d-flex gap-3 justify-content-center flex-wrap">
            <a href="{{ url_for('auth.register') }}" class="btn btn-light btn-lg">
                Start Free Trial <i class="fas fa-arrow-right ms-2"></i>
            </a>
            <a href="{{ url_for('auth.demo_login') }}" class="btn btn-outline-light btn-lg">
                Try Demo <i class="fas fa-play ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Load popular templates
    loadPopularTemplates();
    
    // AI Generator button
    document.getElementById('aiGeneratorBtn').addEventListener('click', function() {
        const industry = document.getElementById('industrySelect').value;
        const templateType = document.getElementById('templateTypeSelect').value;
        
        if (!industry || !templateType) {
            alert('Please select both industry and template type for AI suggestions.');
            return;
        }
        
        // Redirect to dashboard with AI generator
        window.location.href = '/dashboard#ai-generator';
    });
});

function loadPopularTemplates() {
    fetch('/api/analytics/popular')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                displayPopularTemplates(data.popular_templates.slice(0, 3));
            }
        })
        .catch(error => {
            console.error('Error loading popular templates:', error);
        });
}

function displayPopularTemplates(templates) {
    const container = document.getElementById('popularTemplates');
    container.innerHTML = '';
    
    templates.forEach(template => {
        const templateCard = `
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <span class="badge bg-primary mb-2">${template.industry}</span>
                        <h5 class="card-title">${template.name}</h5>
                        <p class="card-text text-muted">${template.description || 'Professional ' + template.name.toLowerCase() + ' template for ' + template.industry.toLowerCase() + ' projects...'}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">
                                <i class="fas fa-download me-1"></i>${template.downloads} downloads
                            </small>
                            <a href="/templates/${template.id}" class="btn btn-outline-primary btn-sm">Preview</a>
                        </div>
                    </div>
                </div>
            </div>
        `;
        container.innerHTML += templateCard;
    });
}
</script>

<!-- Demo Banner JavaScript -->
<script src="{{ url_for('static', filename='js/demo_banner.js') }}"></script>
{% endblock %}
