<!-- Sample Templates Gallery Section -->
<section class="sample-gallery-section">
    <div class="container">
        <h2 class="section-title">Sample Templates</h2>
        <p class="section-subtitle">Preview our professional PM templates with real project examples</p>
        
        <div class="sample-gallery-container">
            <div class="sample-gallery-scroll">
                <!-- Sample 1 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/01_kpi_cybersecurity.png') }}" 
                         alt="Cybersecurity KPI Dashboard" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">KPI Dashboard</h3>
                        <p class="sample-description">Information Security and Cyber Defense KPI tracking</p>
                    </div>
                </div>

                <!-- Sample 2 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/02_project_plan.png') }}" 
                         alt="Project Plan WBS" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Plan</h3>
                        <p class="sample-description">Comprehensive Work Breakdown Structure with timeline</p>
                    </div>
                </div>

                <!-- Sample 3 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/03_project_plan_cyber.png') }}" 
                         alt="Cybersecurity Project Plan" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Plan</h3>
                        <p class="sample-description">Cybersecurity implementation project plan</p>
                    </div>
                </div>

                <!-- Sample 4 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/04_kpi_software.png') }}" 
                         alt="Software Development KPI Dashboard" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">KPI Dashboard</h3>
                        <p class="sample-description">Software Development and Engineering KPI metrics</p>
                    </div>
                </div>

                <!-- Sample 5 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/05_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 6 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/06_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 7 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/07_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 8 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/08_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 9 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/09_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 10 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/10_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 11 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/11_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 12 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/12_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 13 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/13_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>

                <!-- Sample 14 -->
                <div class="sample-card">
                    <img src="{{ url_for('static', filename='sample_gallery/14_sample.png') }}" 
                         alt="Project Template" 
                         class="sample-image"
                         loading="lazy">
                    <div class="sample-info">
                        <h3 class="sample-title">Project Template</h3>
                        <p class="sample-description">Professional project management template</p>
                    </div>
                </div>
            </div>
            
            <p class="gallery-hint">Scroll to see more samples â†’</p>
        </div>

        <div class="text-center mt-4">
            <a href="{{ url_for('templates.browse') }}" class="btn btn-primary">Browse All Templates</a>
        </div>
    </div>
</section>

<style>
.sample-gallery-section {
    padding: 40px 0;
    background: #f8f9fa;
}

.section-title {
    font-size: 2.5rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 1rem;
    color: #2d3748;
}

.section-subtitle {
    text-align: center;
    color: #718096;
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

.sample-gallery-container {
    position: relative;
    margin: 0 auto;
    max-width: 100%;
}

.sample-gallery-scroll {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 0.5rem 0;
    -webkit-overflow-scrolling: touch;
}

.sample-gallery-scroll::-webkit-scrollbar {
    height: 8px;
}

.sample-gallery-scroll::-webkit-scrollbar-track {
    background: #e2e8f0;
    border-radius: 4px;
}

.sample-gallery-scroll::-webkit-scrollbar-thumb {
    background: #cbd5e0;
    border-radius: 4px;
}

.sample-gallery-scroll::-webkit-scrollbar-thumb:hover {
    background: #a0aec0;
}

.sample-card {
    flex: 0 0 1100px;
    display: flex;
    flex-direction: column;
}

.sample-image {
    width: 100%;
    height: 800px;
    object-fit: contain;
    display: block;
}

.sample-info {
    padding: 0.25rem 0.75rem;
    background: #f8f9fa;
}

.sample-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #2d3748;
    margin-bottom: 0.1rem;
}

.sample-description {
    font-size: 0.85rem;
    color: #718096;
    line-height: 1.4;
}

.gallery-hint {
    text-align: center;
    color: #a0aec0;
    font-size: 0.9rem;
    margin-top: 1rem;
}

.btn-primary {
    background: #2c5aa0;
    color: white;
    padding: 0.75rem 2rem;
    border-radius: 0.375rem;
    text-decoration: none;
    display: inline-block;
    font-weight: 600;
    transition: background 0.2s;
}

.btn-primary:hover {
    background: #234578;
    color: white;
    text-decoration: none;
}

.text-center {
    text-align: center;
}

.mt-4 {
    margin-top: 1.5rem;
}
</style>



<script>
// Error handling for gallery images to prevent crashes
document.addEventListener('DOMContentLoaded', function() {
    const galleryImages = document.querySelectorAll('.sample-image');
    
    galleryImages.forEach(function(img) {
        // Add error handler for failed image loads
        img.addEventListener('error', function() {
            console.warn('Failed to load gallery image:', this.src);
            
            // Hide failed image to prevent broken image icons
            this.style.display = 'none';
            
            // Optionally hide the entire card if image fails
            const card = this.closest('.sample-card');
            if (card) {
                card.style.display = 'none';
            }
        });
        
        // Add load handler for successful loads
        img.addEventListener('load', function() {
            this.style.opacity = '1';
        });
        
        // Add inline onerror as fallback
        if (!this.hasAttribute('onerror')) {
            this.setAttribute('onerror', "this.style.display='none';");
        }
    });
    
    // Ensure gallery container exists
    const galleryScroll = document.querySelector('.sample-gallery-scroll');
    if (!galleryScroll) {
        console.error('Gallery container not found');
        return;
    }
    
    // Verify at least some images loaded
    setTimeout(function() {
        const visibleImages = Array.from(galleryImages).filter(img => 
            img.complete && img.naturalHeight !== 0 && img.style.display !== 'none'
        );
        
        if (visibleImages.length === 0) {
            console.warn('No gallery images loaded successfully');
            // Could add fallback UI here
        } else {
            console.log('Gallery loaded with', visibleImages.length, 'images');
        }
    }, 2000);
});
</script>

