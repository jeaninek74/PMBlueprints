{% extends "base.html" %}

{% block title %}Pricing - PMBlueprints{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Simple, Transparent Pricing</h1>
        <p class="lead">Choose the plan that fits your project management needs</p>
    </div>

    <div class="row justify-content-center g-4">
        <!-- Free Plan -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow-sm">
                <div class="card-body p-4 text-center">
                    <h4 class="card-title mb-4">Free</h4>
                    <div class="display-3 fw-bold text-dark mb-2">$0</div>
                    <p class="text-muted mb-4">/month</p>
                    <p class="text-muted mb-4">Perfect for getting started</p>
                    
                    <ul class="list-unstyled mb-4 text-start">
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>3 template downloads/month</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Basic templates</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>3 AI generations/month</li>
                        <li class="mb-3"><i class="fas fa-times text-muted me-2"></i>Platform integrations</li>
                        <li class="mb-3"><i class="fas fa-times text-muted me-2"></i>Advanced analytics</li>
                    </ul>
                    
                    <a href="{{ url_for('auth.register') }}" class="btn btn-outline-primary w-100 py-2">Get Started Free</a>
                </div>
            </div>
        </div>

        <!-- Professional Plan -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow border-primary" style="border-width: 2px;">
                <div class="card-header bg-primary text-white text-center py-2">
                    <span class="badge bg-white text-primary">MOST POPULAR</span>
                </div>
                <div class="card-body p-4 text-center">
                    <h4 class="card-title mb-4">Professional</h4>
                    <div class="display-3 fw-bold text-dark mb-2">$50</div>
                    <p class="text-muted mb-4">/month</p>
                    <p class="text-muted mb-4">For professional project managers</p>
                    
                    <ul class="list-unstyled mb-4 text-start">
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>10 template downloads/month</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>All 960+ templates</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>25 AI generations/month</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Platform integrations</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Advanced features</li>
                    </ul>
                    
                    <button class="btn btn-primary w-100 py-2" onclick="startCheckout('professional')">Start Professional</button>
                </div>
            </div>
        </div>

        <!-- Enterprise Plan -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow-sm">
                <div class="card-body p-4 text-center">
                    <h4 class="card-title mb-4">Enterprise</h4>
                    <div class="display-3 fw-bold text-dark mb-2">$150</div>
                    <p class="text-muted mb-4">/month</p>
                    <p class="text-muted mb-4">For teams and organizations</p>
                    
                    <ul class="list-unstyled mb-4 text-start">
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Unlimited downloads</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>All 960+ templates</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>100 AI generations/month</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Custom templates</li>
                        <li class="mb-3"><i class="fas fa-check text-success me-2"></i>Advanced analytics</li>
                    </ul>
                    
                    <button class="btn btn-outline-primary w-100 py-2" onclick="startCheckout('enterprise')">Start Enterprise</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Platform Integrations Note -->
    <div class="row mt-5">
        <div class="col-12 text-center">
            <p class="text-muted">
                <strong>Platform Integrations:</strong> Monday.com, Smartsheet, Google Sheets, Microsoft 365, Workday
            </p>
        </div>
    </div>

    <!-- Payment Options -->
    <div class="row mt-4">
        <div class="col-12 text-center">
            <p class="text-muted mb-3">Secure payment processing with multiple options</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap">
                <i class="fab fa-cc-visa fa-2x text-muted"></i>
                <i class="fab fa-cc-mastercard fa-2x text-muted"></i>
                <i class="fab fa-cc-amex fa-2x text-muted"></i>
                <i class="fab fa-cc-discover fa-2x text-muted"></i>
                <i class="fab fa-cc-paypal fa-2x text-muted"></i>
            </div>
            <p class="text-muted small mt-3">
                All plans include 30-day money-back guarantee • Cancel anytime • No hidden fees
            </p>
        </div>
    </div>
</div>

<script>
function startCheckout(plan) {
    {% if current_user.is_authenticated %}
        // Redirect to Stripe checkout for the selected plan
        window.location.href = '/payment/subscribe/' + plan;
    {% else %}
        // Redirect to login first
        window.location.href = '{{ url_for("auth.login") }}?next=' + encodeURIComponent('/pricing');
    {% endif %}
}
</script>
{% endblock %}

